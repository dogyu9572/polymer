<?// DB연결$dblink = SetConn($_conf_db["main_db"]);// 현재 페이지 파일명 가져오기$thisPHPname = basename($_SERVER['PHP_SELF']);// 파일과 메뉴 코드 간의 매핑 정의$fileToMenuMapping = [	// 회원 관리 매핑	'member_info.php' => 'member_manage_01',	'member_info_work.php' => 'member_manage_01',	'member_info_other.php' => 'member_manage_01',	'member_info_additional.php' => 'member_manage_01',	'member_info_executive.php' => 'member_manage_01',	'member_info_payment.php' => 'member_manage_01',	'non_member_info.php' => 'member_manage_04',	// 관리자 정보 매핑	'admin_info.php' => 'admin_manage_01',];// 현재 활성화된 메뉴에 따라 서브메뉴 가져오기if ($topMenuClass[1]=="on") {	$arrMenuSubList = getAdminMenuSub("admin_manage");} else if ($topMenuClass[2]=="on") {	$arrMenuSubList = getAdminMenuSub("member_manage");} else if ($topMenuClass[3]=="on") {	$arrMenuSubList = getAdminMenuSub("mail_manage");} else if ($topMenuClass[4]=="on") {	$arrMenuSubList = getAdminMenuSub("accounting_manage");} else if ($topMenuClass[5]=="on") {	$arrMenuSubList = getAdminMenuSub("election_manage");} else if ($topMenuClass[6]=="on") {	$arrMenuSubList = getAdminMenuSub("dom_conf_manage");} else if ($topMenuClass[7]=="on") {	$arrMenuSubList = getAdminMenuSub("conf_submit_manage");} else if ($topMenuClass[8]=="on") {	$arrMenuSubList = getAdminMenuSub("abstract_manage");} else if ($topMenuClass[9]=="on") {	$arrMenuSubList = getAdminMenuSub("paper_award_manage");} else if ($topMenuClass[10]=="on") {	$arrMenuSubList = getAdminMenuSub("intl_conf_manage");} else if ($topMenuClass[11]=="on") {	$arrMenuSubList = getAdminMenuSub("seminar_manage");} else if ($topMenuClass[12]=="on") {	$arrMenuSubList = getAdminMenuSub("booth_manage");} else if ($topMenuClass[13]=="on") {	$arrMenuSubList = getAdminMenuSub("award_manage");} else if ($topMenuClass[14]=="on") {	$arrMenuSubList = getAdminMenuSub("publish_manage");} else if ($topMenuClass[15]=="on") {	$arrMenuSubList = getAdminMenuSub("notice_manage");} else if ($topMenuClass[16]=="on") {	$arrMenuSubList = getAdminMenuSub("inquiry_manage");} else if ($topMenuClass[17]=="on") {	$arrMenuSubList = getAdminMenuSub("homepage_manage");} else if ($topMenuClass[18]=="on") {	$arrMenuSubList = getAdminMenuSub("site_manage");}// 동적으로 $menuClassMapping 생성$menuClassMapping = [];$leftMenuClass = [];if (isset($arrMenuSubList) && !empty($arrMenuSubList) && $arrMenuSubList['total'] > 0) {	// 현재 boardid 가져오기	$current_boardid = isset($_REQUEST['boardid']) ? $_REQUEST['boardid'] : '';	// 메뉴 순서대로 매핑 생성	$index = 1; // 인덱스는 1부터 시작	foreach ($arrMenuSubList['list'] as $menu) {		$menuCode = $menu['m_code'];		$menuUrl = $menu['p_url'];		// 메뉴 코드와 인덱스 매핑		$menuClassMapping[$menuCode] = $index;		// 기본적으로 모든 메뉴 클래스는 빈 문자열로 초기화		$leftMenuClass[$index] = "";		// 현재 파일명이 매핑에 있고, 현재 메뉴 코드와 매핑된 메뉴 코드가 일치하면 활성화		if (isset($fileToMenuMapping[$thisPHPname]) && $menuCode == $fileToMenuMapping[$thisPHPname]) {			$leftMenuClass[$index] = "on";		}		// 일반적인 활성화 조건 처리		else if (!empty($menuUrl)) {			$urlParts = parse_url($menuUrl);			$pathParts = pathinfo($urlParts['path'] ?? '');			$menuFilename = $pathParts['basename'] ?? '';			// URL에서 boardid 추출			$menu_boardid = '';			if (isset($urlParts['query'])) {				parse_str($urlParts['query'], $queryParams);				$menu_boardid = isset($queryParams['boardid']) ? $queryParams['boardid'] : '';			}			// 활성화 조건			if (!empty($current_boardid) && !empty($menu_boardid)) {				if ($current_boardid == $menu_boardid) {					$leftMenuClass[$index] = "on";				}			} else {				if ($thisPHPname == $menuFilename) {					$leftMenuClass[$index] = "on";				}			}		}		$index++;	}}?><div class="aside">    <a href="javascript:void(0);" class="btn_aside"></a>    <div class="in_scroll">        <div class="menu">            <dl class="on">                <dt>기본 설정 <i></i></dt>                <dd style="display:block;"><!-- 열려있는 페이지에는 dd에 display:block 해주세요. -->					<?php					// 메뉴 생성					if (isset($arrMenuSubList) && !empty($arrMenuSubList) && $arrMenuSubList['total'] > 0) {						// 메뉴 항목 순회						foreach ($arrMenuSubList['list'] as $menu) {							$menuCode = $menu['m_code'];							$menuName = $menu['m_name'];							$menuUrl = !empty($menu['p_url']) ? $menu['p_url'] : '#';							// 권한 확인							if (in_array($menuCode, $arrayMyMenuSub) && (in_array($menuCode, $_SESSION[$_SITE["DOMAIN"]]["ADMIN"]["AUTHSUB"]) ||									$_SESSION[$_SITE["DOMAIN"]]["ADMIN"]["GRADE"] == "ROOT")) {								// 클래스 인덱스 가져오기								$classIndex = $menuClassMapping[$menuCode] ?? '';								// 메뉴 항목 출력								echo '<a class="' . $leftMenuClass[$classIndex] . '" href="' . $menuUrl . '">· ' . $menuName . '</a>';							}						}					}					?>                </dd>            </dl>        </div>		<?include $_SERVER['DOCUMENT_ROOT'] . "/backoffice/admin_info.php";?>    </div></div>